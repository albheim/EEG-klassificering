data dir
/lunarc/nobackup/users/albheim/EEG-klassificering/DATA
script
#!/bin/sh
#SBATCH -t 20:00:00
#SBATCH -J lstm_eeg
#SBATCH -A lu2018-2-3
#// SBATCH -o stdout_%j.out
#// SBATCH -e stderr_%j.err

# shold be lu or gpu
#SBATCH -p gpu

# how many gpus, 4 per node, using many seems to crash more often so stick with 1
#SBATCH --gres=gpu:1

#SBATCH --mem-per-cpu=3100

DATA_DIR="$(cat ../data_location.txt)"
echo "data dir"
echo $DATA_DIR

echo "script"
cat $0

PY_FILE="test.py"
echo "py file"
cat $PY_FILE

echo "nvidia smi"
nvidia-smi

echo "start time"
date

cp -r $DATA_DIR $SNIC_TMP
ls $SNIC_TMP
du -h "${SNIC_TMP}/DATA"

echo "copy done time"
date

python $PY_FILE $SNIC_TMP

echo "end time"
date
py file
import sys
from datetime import datetime

import numpy as np
from scipy import io

import tensorflow as tf

from keras.models import Sequential
from keras.layers import Dense, Dropout, Input
from keras.layers import TimeDistributed
from keras.layers import SimpleRNN, RNN, LSTM, GRU

from keras.optimizers import SGD, Adam, RMSprop, Nadam
from keras import backend as K

from tensorflow.python.client import device_lib
print("here comes devices list")
print(device_lib.list_local_devices())
print("finished with device list")
print(str(datetime.now()))

import models
import data
import util


x, y = data.load_single(cut=True)


def get_random_setting():
    second_layer = np.random.choice([True, False])
    second_layer_type = np.random.choice([LSTM, Dense])
    second_layer_nodes = np.random.randint(10, 100)
    second_layer_dropout = np.random.ranf() * 0.75

    first_layer_nodes = np.random.randint(10, 100)
    first_layer_dropout = np.random.ranf() * 0.75
    if second_layer and second_layer_type == LSTM:
        first_layer_return_seq = True
    else:
        first_layer_return_seq = False

    epochs = np.random.randint(10, 100)

    return {"first_layer_nodes": first_layer_nodes,
            "first_layer_dropout": first_layer_dropout,
            "first_layer_return_seq": first_layer_return_seq,
            "second_layer": second_layer,
            "second_layer_type": second_layer_type,
            "second_layer_nodes": second_layer_nodes,
            "second_layer_dropout": second_layer_dropout,
            "epochs": epochs}

splits = 5
n_subs = len(x)
n_models = 20


for _ in range(n_models):
    mset = get_random_setting()
    print(mset)

    model = Sequential()

    model.add(LSTM(mset["first_layer_nodes"], 
                   input_shape=x[0][0].shape, 
                   return_sequences=mset["first_layer_return_seq"]))
    model.add(Dropout(mset["first_layer_dropout"]))

    if mset["second_layer"]:
        model.add(mset["second_layer_type"](mset["second_layer_nodes"]))
        model.add(Dropout(mset["second_layer_dropout"]))

    model.add(Dense(3, activation='softmax'))

    model.compile(loss='categorical_crossentropy', optimizer='rmsprop', metrics=['accuracy'])
            

    model.summary()

    w_save = model.get_weights()
    avgacc = 0
    for i in range(n_subs):
        n = x[i].shape[0]
        acc = 0
        for tr, val in util.kfold(n, splits):
            # reset to initial weights
            model.set_weights(w_save)

            # fit with next kfold data
            model.fit(x[i][tr], y[i][tr],
                      batch_size=64, epochs=mset["epochs"], verbose=0)

            loss, accuracy = model.evaluate(x[i][val], y[i][val], verbose=0)
            acc += accuracy

        acc /= splits
        avgacc += acc

        print("subject {}, avg accuracy {} over {} splits".format(i + 1 if i + 1 < 10 else i + 2, acc, splits))

    avgacc /= n_subs
    print("avg accuracy over all subjects {}".format(avgacc))


nvidia smi
Tue Feb 20 14:13:58 2018       
+------------------------------------------------------+                       
| NVIDIA-SMI 352.93     Driver Version: 384.81         |                       
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  Tesla K80           On   | 0000:04:00.0     Off |                    0 |
| N/A   39C    P0    74W / 149W |  10917MiB / 11439MiB |     57%      Default |
+-------------------------------+----------------------+----------------------+
|   1  Tesla K80           On   | 0000:05:00.0     Off |                    0 |
| N/A   59C    P0    88W / 149W |  10919MiB / 11439MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   2  Tesla K80           On   | 0000:84:00.0     Off |                    0 |
| N/A   23C    P8    26W / 149W |      1MiB / 11439MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   3  Tesla K80           On   | 0000:85:00.0     Off |                    0 |
| N/A   28C    P8    29W / 149W |      1MiB / 11439MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID  Type  Process name                               Usage      |
|=============================================================================|
|    0    129815    C   python                                       10906MiB |
|    1    100270    C   python                                       10906MiB |
+-----------------------------------------------------------------------------+
start time
Tue Feb 20 14:13:58 CET 2018
DATA
2.4G	/local/slurmtmp.473972/DATA/Visual
2.4G	/local/slurmtmp.473972/DATA/Verbal
388M	/local/slurmtmp.473972/DATA/Modified/marginal
388M	/local/slurmtmp.473972/DATA/Modified
5.1G	/local/slurmtmp.473972/DATA
copy done time
Tue Feb 20 14:14:33 CET 2018
2018-02-20 14:14:34.862435: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2018-02-20 14:14:35.129882: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:84:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2018-02-20 14:14:35.129992: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:84:00.0, compute capability: 3.7)
2018-02-20 14:15:51.748497: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:84:00.0, compute capability: 3.7)
/home/albheim/.conda/envs/keras-gpu/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
Using TensorFlow backend.
here comes devices list
[name: "/device:CPU:0"
device_type: "CPU"
memory_limit: 268435456
locality {
}
incarnation: 493906580736705044
, name: "/device:GPU:0"
device_type: "GPU"
memory_limit: 11324823962
locality {
  bus_id: 2
}
incarnation: 2286392255655310592
physical_device_desc: "device: 0, name: Tesla K80, pci bus id: 0000:84:00.0, compute capability: 3.7"
]
finished with device list
2018-02-20 14:14:37.335160
loading:  Subj01_CleanData_study_FA
loading:  Subj01_CleanData_study_LM
loading:  Subj01_CleanData_study_OB
loading:  Subj02_CleanData_study_FA
loading:  Subj02_CleanData_study_LM
loading:  Subj02_CleanData_study_OB
loading:  Subj03_CleanData_study_FA
loading:  Subj03_CleanData_study_LM
loading:  Subj03_CleanData_study_OB
loading:  Subj04_CleanData_study_FA
loading:  Subj04_CleanData_study_LM
loading:  Subj04_CleanData_study_OB
loading:  Subj05_CleanData_study_FA
loading:  Subj05_CleanData_study_LM
loading:  Subj05_CleanData_study_OB
loading:  Subj06_CleanData_study_FA
loading:  Subj06_CleanData_study_LM
loading:  Subj06_CleanData_study_OB
loading:  Subj07_CleanData_study_FA
loading:  Subj07_CleanData_study_LM
loading:  Subj07_CleanData_study_OB
loading:  Subj08_CleanData_study_FA
loading:  Subj08_CleanData_study_LM
loading:  Subj08_CleanData_study_OB
loading:  Subj09_CleanData_study_FA
loading:  Subj09_CleanData_study_LM
loading:  Subj09_CleanData_study_OB
loading:  Subj11_CleanData_study_FA
loading:  Subj11_CleanData_study_LM
loading:  Subj11_CleanData_study_OB
loading:  Subj12_CleanData_study_FA
loading:  Subj12_CleanData_study_LM
loading:  Subj12_CleanData_study_OB
loading:  Subj13_CleanData_study_FA
loading:  Subj13_CleanData_study_LM
loading:  Subj13_CleanData_study_OB
loading:  Subj14_CleanData_study_FA
loading:  Subj14_CleanData_study_LM
loading:  Subj14_CleanData_study_OB
loading:  Subj15_CleanData_study_FA
loading:  Subj15_CleanData_study_LM
loading:  Subj15_CleanData_study_OB
loading:  Subj16_CleanData_study_FA
loading:  Subj16_CleanData_study_LM
loading:  Subj16_CleanData_study_OB
loading:  Subj17_CleanData_study_FA
loading:  Subj17_CleanData_study_LM
loading:  Subj17_CleanData_study_OB
loading:  Subj18_CleanData_study_FA
loading:  Subj18_CleanData_study_LM
loading:  Subj18_CleanData_study_OB
loading:  Subj19_CleanData_study_FA
loading:  Subj19_CleanData_study_LM
loading:  Subj19_CleanData_study_OB
(185, 31, 768)
{'first_layer_nodes': 91, 'first_layer_dropout': 0.17764471812771687, 'first_layer_return_seq': True, 'second_layer': True, 'second_layer_type': <class 'keras.layers.recurrent.LSTM'>, 'second_layer_nodes': 25, 'second_layer_dropout': 0.5464585304864958, 'epochs': 95}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_1 (LSTM)                (None, 31, 91)            313040    
_________________________________________________________________
dropout_1 (Dropout)          (None, 31, 91)            0         
_________________________________________________________________
lstm_2 (LSTM)                (None, 25)                11700     
_________________________________________________________________
dropout_2 (Dropout)          (None, 25)                0         
_________________________________________________________________
dense_1 (Dense)              (None, 3)                 78        
=================================================================
Total params: 324,818
Trainable params: 324,818
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.5081081093968571 over 5 splits
subject 2, avg accuracy 0.3906116650123176 over 5 splits
subject 3, avg accuracy 0.5871977254091251 over 5 splits
subject 4, avg accuracy 0.4594594608287553 over 5 splits
subject 5, avg accuracy 0.5923186364206108 over 5 splits
subject 6, avg accuracy 0.4948948956198162 over 5 splits
subject 7, avg accuracy 0.5374110967387177 over 5 splits
subject 8, avg accuracy 0.4736842114674418 over 5 splits
subject 9, avg accuracy 0.41849217798089233 over 5 splits
subject 11, avg accuracy 0.4405405406210874 over 5 splits
subject 12, avg accuracy 0.3315789481526927 over 5 splits
subject 13, avg accuracy 0.45775249029799847 over 5 splits
subject 14, avg accuracy 0.513360323870552 over 5 splits
subject 15, avg accuracy 0.5079579586023325 over 5 splits
subject 16, avg accuracy 0.3641025657917646 over 5 splits
subject 17, avg accuracy 0.6631578959916767 over 5 splits
subject 18, avg accuracy 0.5405405418292897 over 5 splits
subject 19, avg accuracy 0.42507507571944964 over 5 splits
avg accuracy over all subjects 0.4836802399861877
{'first_layer_nodes': 64, 'first_layer_dropout': 0.6897324737465995, 'first_layer_return_seq': False, 'second_layer': False, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 55, 'second_layer_dropout': 0.2808307866763117, 'epochs': 50}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_3 (LSTM)                (None, 64)                213248    
_________________________________________________________________
dropout_3 (Dropout)          (None, 64)                0         
_________________________________________________________________
dense_2 (Dense)              (None, 3)                 195       
=================================================================
Total params: 213,443
Trainable params: 213,443
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.4972972999553423 over 5 splits
subject 2, avg accuracy 0.4443812246766911 over 5 splits
subject 3, avg accuracy 0.44054054182928953 over 5 splits
subject 4, avg accuracy 0.4324324338822751 over 5 splits
subject 5, avg accuracy 0.4547652932904014 over 5 splits
subject 6, avg accuracy 0.47852852973673077 over 5 splits
subject 7, avg accuracy 0.4953058335765836 over 5 splits
subject 8, avg accuracy 0.4894736846810893 over 5 splits
subject 9, avg accuracy 0.4358463736550397 over 5 splits
subject 11, avg accuracy 0.4288288294732034 over 5 splits
subject 12, avg accuracy 0.32105263299063636 over 5 splits
subject 13, avg accuracy 0.431436700349512 over 5 splits
subject 14, avg accuracy 0.5240215941640207 over 5 splits
subject 15, avg accuracy 0.4198198204641943 over 5 splits
subject 16, avg accuracy 0.3793522287235569 over 5 splits
subject 17, avg accuracy 0.5421052626873317 over 5 splits
subject 18, avg accuracy 0.35135135239846 over 5 splits
subject 19, avg accuracy 0.4198198204641944 over 5 splits
avg accuracy over all subjects 0.4436866364999196
{'first_layer_nodes': 78, 'first_layer_dropout': 0.7470088459019542, 'first_layer_return_seq': False, 'second_layer': True, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 50, 'second_layer_dropout': 0.02097441625253274, 'epochs': 41}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_4 (LSTM)                (None, 78)                264264    
_________________________________________________________________
dropout_4 (Dropout)          (None, 78)                0         
_________________________________________________________________
dense_3 (Dense)              (None, 50)                3950      
_________________________________________________________________
dropout_5 (Dropout)          (None, 50)                0         
_________________________________________________________________
dense_4 (Dense)              (None, 3)                 153       
=================================================================
Total params: 268,367
Trainable params: 268,367
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.470270271720113 over 5 splits
subject 2, avg accuracy 0.41180654458521443 over 5 splits
subject 3, avg accuracy 0.4408250377196845 over 5 splits
subject 4, avg accuracy 0.4432432446930859 over 5 splits
subject 5, avg accuracy 0.5140825049975518 over 5 splits
subject 6, avg accuracy 0.5327327341020286 over 5 splits
subject 7, avg accuracy 0.45789473786801727 over 5 splits
subject 8, avg accuracy 0.45263158051591174 over 5 splits
subject 9, avg accuracy 0.4091038422852458 over 5 splits
subject 11, avg accuracy 0.39534534607026667 over 5 splits
subject 12, avg accuracy 0.37894736904847 over 5 splits
subject 13, avg accuracy 0.38819345771672886 over 5 splits
subject 14, avg accuracy 0.5338731459519159 over 5 splits
subject 15, avg accuracy 0.4528528530139465 over 5 splits
subject 16, avg accuracy 0.4260458854810107 over 5 splits
subject 17, avg accuracy 0.489473684524235 over 5 splits
subject 18, avg accuracy 0.35135135215681956 over 5 splits
subject 19, avg accuracy 0.431231231311778 over 5 splits
avg accuracy over all subjects 0.4433280457645569
{'first_layer_nodes': 18, 'first_layer_dropout': 0.17655335943847095, 'first_layer_return_seq': False, 'second_layer': False, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 85, 'second_layer_dropout': 0.2860670377562341, 'epochs': 90}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_5 (LSTM)                (None, 18)                56664     
_________________________________________________________________
dropout_6 (Dropout)          (None, 18)                0         
_________________________________________________________________
dense_5 (Dense)              (None, 3)                 57        
=================================================================
Total params: 56,721
Trainable params: 56,721
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.4324324331573538 over 5 splits
subject 2, avg accuracy 0.3422475115545783 over 5 splits
subject 3, avg accuracy 0.43485064116090666 over 5 splits
subject 4, avg accuracy 0.3135135139967944 over 5 splits
subject 5, avg accuracy 0.3957325755574795 over 5 splits
subject 6, avg accuracy 0.5112612622278231 over 5 splits
subject 7, avg accuracy 0.48506401265583204 over 5 splits
subject 8, avg accuracy 0.4578947376263769 over 5 splits
subject 9, avg accuracy 0.39217638755760353 over 5 splits
subject 11, avg accuracy 0.35150150166259514 over 5 splits
subject 12, avg accuracy 0.3473684216800489 over 5 splits
subject 13, avg accuracy 0.43157894880130654 over 5 splits
subject 14, avg accuracy 0.4242914995281641 over 5 splits
subject 15, avg accuracy 0.35900900917010264 over 5 splits
subject 16, avg accuracy 0.4014844822939912 over 5 splits
subject 17, avg accuracy 0.5210526329906363 over 5 splits
subject 18, avg accuracy 0.28648648809742283 over 5 splits
subject 19, avg accuracy 0.32537537553646906 over 5 splits
avg accuracy over all subjects 0.4007400797364158
{'first_layer_nodes': 60, 'first_layer_dropout': 0.6841433577999618, 'first_layer_return_seq': True, 'second_layer': True, 'second_layer_type': <class 'keras.layers.recurrent.LSTM'>, 'second_layer_nodes': 56, 'second_layer_dropout': 0.1579410870036143, 'epochs': 13}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_6 (LSTM)                (None, 31, 60)            198960    
_________________________________________________________________
dropout_7 (Dropout)          (None, 31, 60)            0         
_________________________________________________________________
lstm_7 (LSTM)                (None, 56)                26208     
_________________________________________________________________
dropout_8 (Dropout)          (None, 56)                0         
_________________________________________________________________
dense_6 (Dense)              (None, 3)                 171       
=================================================================
Total params: 225,339
Trainable params: 225,339
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.518918921093683 over 5 splits
subject 2, avg accuracy 0.37368421164549265 over 5 splits
subject 3, avg accuracy 0.5374110962893512 over 5 splits
subject 4, avg accuracy 0.46486486647580116 over 5 splits
subject 5, avg accuracy 0.549928876744904 over 5 splits
subject 6, avg accuracy 0.4561561572032648 over 5 splits
subject 7, avg accuracy 0.43129445489066764 over 5 splits
subject 8, avg accuracy 0.4526315800453487 over 5 splits
subject 9, avg accuracy 0.376102419407405 over 5 splits
subject 11, avg accuracy 0.444444445088819 over 5 splits
subject 12, avg accuracy 0.4000000006274173 over 5 splits
subject 13, avg accuracy 0.37211948917651416 over 5 splits
subject 14, avg accuracy 0.470985157053802 over 5 splits
subject 15, avg accuracy 0.49204204268641655 over 5 splits
subject 16, avg accuracy 0.37503373982050475 over 5 splits
subject 17, avg accuracy 0.6842105269432068 over 5 splits
subject 18, avg accuracy 0.5027027037498113 over 5 splits
subject 19, avg accuracy 0.3816816817622285 over 5 splits
avg accuracy over all subjects 0.46023402059470214
{'first_layer_nodes': 51, 'first_layer_dropout': 0.4129799746530446, 'first_layer_return_seq': True, 'second_layer': True, 'second_layer_type': <class 'keras.layers.recurrent.LSTM'>, 'second_layer_nodes': 99, 'second_layer_dropout': 0.6398690774457254, 'epochs': 15}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_8 (LSTM)                (None, 31, 51)            167280    
_________________________________________________________________
dropout_9 (Dropout)          (None, 31, 51)            0         
_________________________________________________________________
lstm_9 (LSTM)                (None, 99)                59796     
_________________________________________________________________
dropout_10 (Dropout)         (None, 99)                0         
_________________________________________________________________
dense_7 (Dense)              (None, 3)                 300       
=================================================================
Total params: 227,376
Trainable params: 227,376
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.5081081096384976 over 5 splits
subject 2, avg accuracy 0.4702702717116344 over 5 splits
subject 3, avg accuracy 0.5487908980839622 over 5 splits
subject 4, avg accuracy 0.38378378523362644 over 5 splits
subject 5, avg accuracy 0.5769559050903551 over 5 splits
subject 6, avg accuracy 0.5262762774039317 over 5 splits
subject 7, avg accuracy 0.47411095464806124 over 5 splits
subject 8, avg accuracy 0.5315789489369644 over 5 splits
subject 9, avg accuracy 0.45177809476089337 over 5 splits
subject 11, avg accuracy 0.445195195275742 over 5 splits
subject 12, avg accuracy 0.35263157957478575 over 5 splits
subject 13, avg accuracy 0.33527738422706493 over 5 splits
subject 14, avg accuracy 0.4665317151429039 over 5 splits
subject 15, avg accuracy 0.47507507523616865 over 5 splits
subject 16, avg accuracy 0.39595141793713073 over 5 splits
subject 17, avg accuracy 0.6526315795747857 over 5 splits
subject 18, avg accuracy 0.5135135157688244 over 5 splits
subject 19, avg accuracy 0.398198198278745 over 5 splits
avg accuracy over all subjects 0.4725921614735598
{'first_layer_nodes': 43, 'first_layer_dropout': 0.29362190457012116, 'first_layer_return_seq': False, 'second_layer': True, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 33, 'second_layer_dropout': 0.06388786288658924, 'epochs': 96}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_10 (LSTM)               (None, 43)                139664    
_________________________________________________________________
dropout_11 (Dropout)         (None, 43)                0         
_________________________________________________________________
dense_8 (Dense)              (None, 33)                1452      
_________________________________________________________________
dropout_12 (Dropout)         (None, 33)                0         
_________________________________________________________________
dense_9 (Dense)              (None, 3)                 102       
=================================================================
Total params: 141,218
Trainable params: 141,218
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.4702702714784725 over 5 splits
subject 2, avg accuracy 0.3847795169180522 over 5 splits
subject 3, avg accuracy 0.4190611674766961 over 5 splits
subject 4, avg accuracy 0.32432432488815205 over 5 splits
subject 5, avg accuracy 0.4650071133293773 over 5 splits
subject 6, avg accuracy 0.54909910135441 over 5 splits
subject 7, avg accuracy 0.49544808173162663 over 5 splits
subject 8, avg accuracy 0.46842105357270486 over 5 splits
subject 9, avg accuracy 0.46756756980592123 over 5 splits
subject 11, avg accuracy 0.4067567574816781 over 5 splits
subject 12, avg accuracy 0.37368421131058743 over 5 splits
subject 13, avg accuracy 0.3779516371224038 over 5 splits
subject 14, avg accuracy 0.48218623793076887 over 5 splits
subject 15, avg accuracy 0.3873873874679342 over 5 splits
subject 16, avg accuracy 0.34399460357853917 over 5 splits
subject 17, avg accuracy 0.5263157908853732 over 5 splits
subject 18, avg accuracy 0.36216216328981765 over 5 splits
subject 19, avg accuracy 0.3867867869478804 over 5 splits
avg accuracy over all subjects 0.42728909869835535
{'first_layer_nodes': 43, 'first_layer_dropout': 0.3116932566687943, 'first_layer_return_seq': False, 'second_layer': True, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 88, 'second_layer_dropout': 0.1567107194972982, 'epochs': 33}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_11 (LSTM)               (None, 43)                139664    
_________________________________________________________________
dropout_13 (Dropout)         (None, 43)                0         
_________________________________________________________________
dense_10 (Dense)             (None, 88)                3872      
_________________________________________________________________
dropout_14 (Dropout)         (None, 88)                0         
_________________________________________________________________
dense_11 (Dense)             (None, 3)                 267       
=================================================================
Total params: 143,803
Trainable params: 143,803
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.4324324334795411 over 5 splits
subject 2, avg accuracy 0.33726884803680407 over 5 splits
subject 3, avg accuracy 0.4034139409724882 over 5 splits
subject 4, avg accuracy 0.4216216229103707 over 5 splits
subject 5, avg accuracy 0.444096729184791 over 5 splits
subject 6, avg accuracy 0.4617117123560862 over 5 splits
subject 7, avg accuracy 0.47965860789056186 over 5 splits
subject 8, avg accuracy 0.4736842117811504 over 5 splits
subject 9, avg accuracy 0.42475106782289185 over 5 splits
subject 11, avg accuracy 0.39564564612892655 over 5 splits
subject 12, avg accuracy 0.33684210573372086 over 5 splits
subject 13, avg accuracy 0.38378378482241376 over 5 splits
subject 14, avg accuracy 0.44507422619342163 over 5 splits
subject 15, avg accuracy 0.4090090096533835 over 5 splits
subject 16, avg accuracy 0.34304993499708886 over 5 splits
subject 17, avg accuracy 0.4526315795747857 over 5 splits
subject 18, avg accuracy 0.3621621628870835 over 5 splits
subject 19, avg accuracy 0.34759759775869126 over 5 splits
avg accuracy over all subjects 0.40857973456578894
{'first_layer_nodes': 73, 'first_layer_dropout': 0.24830249328879497, 'first_layer_return_seq': True, 'second_layer': True, 'second_layer_type': <class 'keras.layers.recurrent.LSTM'>, 'second_layer_nodes': 19, 'second_layer_dropout': 0.1279753174252713, 'epochs': 14}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_12 (LSTM)               (None, 31, 73)            245864    
_________________________________________________________________
dropout_15 (Dropout)         (None, 31, 73)            0         
_________________________________________________________________
lstm_13 (LSTM)               (None, 19)                7068      
_________________________________________________________________
dropout_16 (Dropout)         (None, 19)                0         
_________________________________________________________________
dense_12 (Dense)             (None, 3)                 60        
=================================================================
Total params: 252,992
Trainable params: 252,992
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.5405405414265555 over 5 splits
subject 2, avg accuracy 0.4176386922852243 over 5 splits
subject 3, avg accuracy 0.4256045532090905 over 5 splits
subject 4, avg accuracy 0.40540540645251405 over 5 splits
subject 5, avg accuracy 0.5452347103087696 over 5 splits
subject 6, avg accuracy 0.5057057073166421 over 5 splits
subject 7, avg accuracy 0.5213371277109827 over 5 splits
subject 8, avg accuracy 0.47894736889161554 over 5 splits
subject 9, avg accuracy 0.4250355626831353 over 5 splits
subject 11, avg accuracy 0.4058558560974962 over 5 splits
subject 12, avg accuracy 0.35263157973164005 over 5 splits
subject 13, avg accuracy 0.38805121149057004 over 5 splits
subject 14, avg accuracy 0.45573549380830103 over 5 splits
subject 15, avg accuracy 0.48003003035221725 over 5 splits
subject 16, avg accuracy 0.4120107979225887 over 5 splits
subject 17, avg accuracy 0.6368421052631579 over 5 splits
subject 18, avg accuracy 0.43783783880439964 over 5 splits
subject 19, avg accuracy 0.3702702709146448 over 5 splits
avg accuracy over all subjects 0.4558174919260857
{'first_layer_nodes': 99, 'first_layer_dropout': 0.13776914885538225, 'first_layer_return_seq': True, 'second_layer': True, 'second_layer_type': <class 'keras.layers.recurrent.LSTM'>, 'second_layer_nodes': 14, 'second_layer_dropout': 0.5586356157287857, 'epochs': 21}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_14 (LSTM)               (None, 31, 99)            343728    
_________________________________________________________________
dropout_17 (Dropout)         (None, 31, 99)            0         
_________________________________________________________________
lstm_15 (LSTM)               (None, 14)                6384      
_________________________________________________________________
dropout_18 (Dropout)         (None, 14)                0         
_________________________________________________________________
dense_13 (Dense)             (None, 3)                 45        
=================================================================
Total params: 350,157
Trainable params: 350,157
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.43783783840166557 over 5 splits
subject 2, avg accuracy 0.44935988653265735 over 5 splits
subject 3, avg accuracy 0.5268847823990866 over 5 splits
subject 4, avg accuracy 0.3945945961249841 over 5 splits
subject 5, avg accuracy 0.5288762459417495 over 5 splits
subject 6, avg accuracy 0.5815315324980934 over 5 splits
subject 7, avg accuracy 0.5159317223140559 over 5 splits
subject 8, avg accuracy 0.42631579041481016 over 5 splits
subject 9, avg accuracy 0.41920341594544785 over 5 splits
subject 11, avg accuracy 0.41726726758945454 over 5 splits
subject 12, avg accuracy 0.35263157973164005 over 5 splits
subject 13, avg accuracy 0.3460881944062191 over 5 splits
subject 14, avg accuracy 0.5076923097153264 over 5 splits
subject 15, avg accuracy 0.5022522525744395 over 5 splits
subject 16, avg accuracy 0.3851551972983176 over 5 splits
subject 17, avg accuracy 0.6105263170443084 over 5 splits
subject 18, avg accuracy 0.4648648659925203 over 5 splits
subject 19, avg accuracy 0.38123123139232484 over 5 splits
avg accuracy over all subjects 0.45823583479539454
{'first_layer_nodes': 81, 'first_layer_dropout': 0.38633046523654435, 'first_layer_return_seq': False, 'second_layer': True, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 25, 'second_layer_dropout': 0.7362034783792493, 'epochs': 18}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_16 (LSTM)               (None, 81)                275400    
_________________________________________________________________
dropout_19 (Dropout)         (None, 81)                0         
_________________________________________________________________
dense_14 (Dense)             (None, 25)                2050      
_________________________________________________________________
dropout_20 (Dropout)         (None, 25)                0         
_________________________________________________________________
dense_15 (Dense)             (None, 3)                 78        
=================================================================
Total params: 277,528
Trainable params: 277,528
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.4000000015303895 over 5 splits
subject 2, avg accuracy 0.39075391308681384 over 5 splits
subject 3, avg accuracy 0.4257468007112804 over 5 splits
subject 4, avg accuracy 0.3567567590120676 over 5 splits
subject 5, avg accuracy 0.4647226191177477 over 5 splits
subject 6, avg accuracy 0.41321321426032187 over 5 splits
subject 7, avg accuracy 0.4310099582880693 over 5 splits
subject 8, avg accuracy 0.3578947380969399 over 5 splits
subject 9, avg accuracy 0.4143669999298636 over 5 splits
subject 11, avg accuracy 0.3512012016039353 over 5 splits
subject 12, avg accuracy 0.3736842109968787 over 5 splits
subject 13, avg accuracy 0.3778093897685896 over 5 splits
subject 14, avg accuracy 0.4557354933578476 over 5 splits
subject 15, avg accuracy 0.381081081161628 over 5 splits
subject 16, avg accuracy 0.39014845020294836 over 5 splits
subject 17, avg accuracy 0.4684210538864136 over 5 splits
subject 18, avg accuracy 0.30810810915521675 over 5 splits
subject 19, avg accuracy 0.3588588595032334 over 5 splits
avg accuracy over all subjects 0.3955284918705659
{'first_layer_nodes': 21, 'first_layer_dropout': 0.34185345276359386, 'first_layer_return_seq': True, 'second_layer': True, 'second_layer_type': <class 'keras.layers.recurrent.LSTM'>, 'second_layer_nodes': 62, 'second_layer_dropout': 0.6579112088815312, 'epochs': 39}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_17 (LSTM)               (None, 31, 21)            66360     
_________________________________________________________________
dropout_21 (Dropout)         (None, 31, 21)            0         
_________________________________________________________________
lstm_18 (LSTM)               (None, 62)                20832     
_________________________________________________________________
dropout_22 (Dropout)         (None, 62)                0         
_________________________________________________________________
dense_16 (Dense)             (None, 3)                 189       
=================================================================
Total params: 87,381
Trainable params: 87,381
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.475675677286612 over 5 splits
subject 2, avg accuracy 0.40170697084870477 over 5 splits
subject 3, avg accuracy 0.4842105271212576 over 5 splits
subject 4, avg accuracy 0.3405405411849151 over 5 splits
subject 5, avg accuracy 0.5028449517988718 over 5 splits
subject 6, avg accuracy 0.4672672690392973 over 5 splits
subject 7, avg accuracy 0.4786628741924657 over 5 splits
subject 8, avg accuracy 0.3789473693621786 over 5 splits
subject 9, avg accuracy 0.4197724046230656 over 5 splits
subject 11, avg accuracy 0.44444444524991267 over 5 splits
subject 12, avg accuracy 0.36842105357270494 over 5 splits
subject 13, avg accuracy 0.31365576157529185 over 5 splits
subject 14, avg accuracy 0.41916329471768965 over 5 splits
subject 15, avg accuracy 0.49654654719092106 over 5 splits
subject 16, avg accuracy 0.42699055453302404 over 5 splits
subject 17, avg accuracy 0.6263157888462668 over 5 splits
subject 18, avg accuracy 0.46486486542869254 over 5 splits
subject 19, avg accuracy 0.3481981983592918 over 5 splits
avg accuracy over all subjects 0.43656828305173134
{'first_layer_nodes': 96, 'first_layer_dropout': 0.6585119900757261, 'first_layer_return_seq': False, 'second_layer': False, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 81, 'second_layer_dropout': 0.023344598110555587, 'epochs': 69}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_19 (LSTM)               (None, 96)                332160    
_________________________________________________________________
dropout_23 (Dropout)         (None, 96)                0         
_________________________________________________________________
dense_17 (Dense)             (None, 3)                 291       
=================================================================
Total params: 332,451
Trainable params: 332,451
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.5513513523179132 over 5 splits
subject 2, avg accuracy 0.42318634510803366 over 5 splits
subject 3, avg accuracy 0.393172121412554 over 5 splits
subject 4, avg accuracy 0.3891891905584851 over 5 splits
subject 5, avg accuracy 0.48150782472378506 over 5 splits
subject 6, avg accuracy 0.5978978998310215 over 5 splits
subject 7, avg accuracy 0.48421052791824726 over 5 splits
subject 8, avg accuracy 0.4947368417915544 over 5 splits
subject 9, avg accuracy 0.43556187959178577 over 5 splits
subject 11, avg accuracy 0.43993994026212724 over 5 splits
subject 12, avg accuracy 0.3473684224643205 over 5 splits
subject 13, avg accuracy 0.3890469426323645 over 5 splits
subject 14, avg accuracy 0.5449392732700356 over 5 splits
subject 15, avg accuracy 0.5247747754191494 over 5 splits
subject 16, avg accuracy 0.4056680177266781 over 5 splits
subject 17, avg accuracy 0.5157894747821908 over 5 splits
subject 18, avg accuracy 0.3243243248076052 over 5 splits
subject 19, avg accuracy 0.3977477479088414 over 5 splits
avg accuracy over all subjects 0.45224516125148306
{'first_layer_nodes': 61, 'first_layer_dropout': 0.1329049776815905, 'first_layer_return_seq': True, 'second_layer': True, 'second_layer_type': <class 'keras.layers.recurrent.LSTM'>, 'second_layer_nodes': 64, 'second_layer_dropout': 0.06029011818716751, 'epochs': 25}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_20 (LSTM)               (None, 31, 61)            202520    
_________________________________________________________________
dropout_24 (Dropout)         (None, 31, 61)            0         
_________________________________________________________________
lstm_21 (LSTM)               (None, 64)                32256     
_________________________________________________________________
dropout_25 (Dropout)         (None, 64)                0         
_________________________________________________________________
dense_18 (Dense)             (None, 3)                 195       
=================================================================
Total params: 234,971
Trainable params: 234,971
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.5513513524790067 over 5 splits
subject 2, avg accuracy 0.41735419773445026 over 5 splits
subject 3, avg accuracy 0.5863442401840202 over 5 splits
subject 4, avg accuracy 0.44324324477363275 over 5 splits
subject 5, avg accuracy 0.5128022769903221 over 5 splits
subject 6, avg accuracy 0.5376876893791709 over 5 splits
subject 7, avg accuracy 0.558463727999717 over 5 splits
subject 8, avg accuracy 0.4315789476821298 over 5 splits
subject 9, avg accuracy 0.4036984364813456 over 5 splits
subject 11, avg accuracy 0.42792792841120886 over 5 splits
subject 12, avg accuracy 0.3578947377832312 over 5 splits
subject 13, avg accuracy 0.3563300156618759 over 5 splits
subject 14, avg accuracy 0.4556005404344615 over 5 splits
subject 15, avg accuracy 0.5306306309528179 over 5 splits
subject 16, avg accuracy 0.464912281614727 over 5 splits
subject 17, avg accuracy 0.6263157894736843 over 5 splits
subject 18, avg accuracy 0.5189189209325893 over 5 splits
subject 19, avg accuracy 0.3647147153590893 over 5 splits
avg accuracy over all subjects 0.47476498190708216
{'first_layer_nodes': 47, 'first_layer_dropout': 0.3744810367880388, 'first_layer_return_seq': False, 'second_layer': False, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 27, 'second_layer_dropout': 0.03983143123689181, 'epochs': 55}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_22 (LSTM)               (None, 47)                153408    
_________________________________________________________________
dropout_26 (Dropout)         (None, 47)                0         
_________________________________________________________________
dense_19 (Dense)             (None, 3)                 144       
=================================================================
Total params: 153,552
Trainable params: 153,552
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.46486486695908213 over 5 splits
subject 2, avg accuracy 0.363442391665867 over 5 splits
subject 3, avg accuracy 0.40369843687984036 over 5 splits
subject 4, avg accuracy 0.31891892109368297 over 5 splits
subject 5, avg accuracy 0.438691323618292 over 5 splits
subject 6, avg accuracy 0.5049549564047976 over 5 splits
subject 7, avg accuracy 0.4207681376767871 over 5 splits
subject 8, avg accuracy 0.4894736854653609 over 5 splits
subject 9, avg accuracy 0.4196301577525322 over 5 splits
subject 11, avg accuracy 0.36186186218404914 over 5 splits
subject 12, avg accuracy 0.2578947376263769 over 5 splits
subject 13, avg accuracy 0.447083925887158 over 5 splits
subject 14, avg accuracy 0.45519568305588287 over 5 splits
subject 15, avg accuracy 0.4477477480699351 over 5 splits
subject 16, avg accuracy 0.40053981291218166 over 5 splits
subject 17, avg accuracy 0.4315789475252753 over 5 splits
subject 18, avg accuracy 0.3675675687757698 over 5 splits
subject 19, avg accuracy 0.3594594595400063 over 5 splits
avg accuracy over all subjects 0.4085207012829376
{'first_layer_nodes': 86, 'first_layer_dropout': 0.04822603366836034, 'first_layer_return_seq': True, 'second_layer': True, 'second_layer_type': <class 'keras.layers.recurrent.LSTM'>, 'second_layer_nodes': 76, 'second_layer_dropout': 0.6229752380407918, 'epochs': 41}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_23 (LSTM)               (None, 31, 86)            294120    
_________________________________________________________________
dropout_27 (Dropout)         (None, 31, 86)            0         
_________________________________________________________________
lstm_24 (LSTM)               (None, 76)                49552     
_________________________________________________________________
dropout_28 (Dropout)         (None, 76)                0         
_________________________________________________________________
dense_20 (Dense)             (None, 3)                 231       
=================================================================
Total params: 343,903
Trainable params: 343,903
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.4864864876946887 over 5 splits
subject 2, avg accuracy 0.40625889112227 over 5 splits
subject 3, avg accuracy 0.5593172138776752 over 5 splits
subject 4, avg accuracy 0.3567567581260526 over 5 splits
subject 5, avg accuracy 0.5883357060328656 over 5 splits
subject 6, avg accuracy 0.4731231239285913 over 5 splits
subject 7, avg accuracy 0.5157894759140855 over 5 splits
subject 8, avg accuracy 0.45789473778323125 over 5 splits
subject 9, avg accuracy 0.3766714085683036 over 5 splits
subject 11, avg accuracy 0.44504504528668554 over 5 splits
subject 12, avg accuracy 0.34736842230746623 over 5 splits
subject 13, avg accuracy 0.42034139530163567 over 5 splits
subject 14, avg accuracy 0.45033738285343333 over 5 splits
subject 15, avg accuracy 0.535735736057923 over 5 splits
subject 16, avg accuracy 0.4062078283383296 over 5 splits
subject 17, avg accuracy 0.673684213035985 over 5 splits
subject 18, avg accuracy 0.5675675695006912 over 5 splits
subject 19, avg accuracy 0.3975975977586913 over 5 splits
avg accuracy over all subjects 0.4702510551938114
{'first_layer_nodes': 83, 'first_layer_dropout': 0.02743996500347931, 'first_layer_return_seq': False, 'second_layer': True, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 66, 'second_layer_dropout': 0.4282593091767218, 'epochs': 19}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_25 (LSTM)               (None, 83)                282864    
_________________________________________________________________
dropout_29 (Dropout)         (None, 83)                0         
_________________________________________________________________
dense_21 (Dense)             (None, 66)                5544      
_________________________________________________________________
dropout_30 (Dropout)         (None, 66)                0         
_________________________________________________________________
dense_22 (Dense)             (None, 3)                 201       
=================================================================
Total params: 288,609
Trainable params: 288,609
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.38918919080012554 over 5 splits
subject 2, avg accuracy 0.4118065442715057 over 5 splits
subject 3, avg accuracy 0.3984352784297544 over 5 splits
subject 4, avg accuracy 0.45405405518170944 over 5 splits
subject 5, avg accuracy 0.4372688492195705 over 5 splits
subject 6, avg accuracy 0.4617117137253821 over 5 splits
subject 7, avg accuracy 0.4206258904713486 over 5 splits
subject 8, avg accuracy 0.43684210573372095 over 5 splits
subject 9, avg accuracy 0.36642958892782246 over 5 splits
subject 11, avg accuracy 0.3737237238848174 over 5 splits
subject 12, avg accuracy 0.34210526394216634 over 5 splits
subject 13, avg accuracy 0.42517781002423166 over 5 splits
subject 14, avg accuracy 0.4402159258341178 over 5 splits
subject 15, avg accuracy 0.33678678686733365 over 5 splits
subject 16, avg accuracy 0.4167341444415119 over 5 splits
subject 17, avg accuracy 0.4684210548275396 over 5 splits
subject 18, avg accuracy 0.3027027041525454 over 5 splits
subject 19, avg accuracy 0.40315315331424684 over 5 splits
avg accuracy over all subjects 0.40474354355830283
{'first_layer_nodes': 95, 'first_layer_dropout': 0.3643304416924473, 'first_layer_return_seq': False, 'second_layer': True, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 92, 'second_layer_dropout': 0.12832071848351875, 'epochs': 23}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_26 (LSTM)               (None, 95)                328320    
_________________________________________________________________
dropout_31 (Dropout)         (None, 95)                0         
_________________________________________________________________
dense_23 (Dense)             (None, 92)                8832      
_________________________________________________________________
dropout_32 (Dropout)         (None, 92)                0         
_________________________________________________________________
dense_24 (Dense)             (None, 3)                 279       
=================================================================
Total params: 337,431
Trainable params: 337,431
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.4594594604260213 over 5 splits
subject 2, avg accuracy 0.34836415410635313 over 5 splits
subject 3, avg accuracy 0.3874822199387028 over 5 splits
subject 4, avg accuracy 0.38918919136395325 over 5 splits
subject 5, avg accuracy 0.47012802420096583 over 5 splits
subject 6, avg accuracy 0.5052552566245512 over 5 splits
subject 7, avg accuracy 0.4640113809115517 over 5 splits
subject 8, avg accuracy 0.468421052161016 over 5 splits
subject 9, avg accuracy 0.4137980097430529 over 5 splits
subject 11, avg accuracy 0.36756756805084845 over 5 splits
subject 12, avg accuracy 0.3473684219937575 over 5 splits
subject 13, avg accuracy 0.4096728324847744 over 5 splits
subject 14, avg accuracy 0.49230769447952144 over 5 splits
subject 15, avg accuracy 0.38678678743116135 over 5 splits
subject 16, avg accuracy 0.40121457590024 over 5 splits
subject 17, avg accuracy 0.47894736779363534 over 5 splits
subject 18, avg accuracy 0.38918919160559373 over 5 splits
subject 19, avg accuracy 0.4087087088698024 over 5 splits
avg accuracy over all subjects 0.4215484387825279
{'first_layer_nodes': 46, 'first_layer_dropout': 0.09251324779490305, 'first_layer_return_seq': False, 'second_layer': True, 'second_layer_type': <class 'keras.layers.core.Dense'>, 'second_layer_nodes': 76, 'second_layer_dropout': 0.246800578979674, 'epochs': 57}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_27 (LSTM)               (None, 46)                149960    
_________________________________________________________________
dropout_33 (Dropout)         (None, 46)                0         
_________________________________________________________________
dense_25 (Dense)             (None, 76)                3572      
_________________________________________________________________
dropout_34 (Dropout)         (None, 76)                0         
_________________________________________________________________
dense_26 (Dense)             (None, 3)                 231       
=================================================================
Total params: 153,763
Trainable params: 153,763
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.5081081093968571 over 5 splits
subject 2, avg accuracy 0.4125177819011562 over 5 splits
subject 3, avg accuracy 0.4140825050780987 over 5 splits
subject 4, avg accuracy 0.33513513634333736 over 5 splits
subject 5, avg accuracy 0.4068278821060701 over 5 splits
subject 6, avg accuracy 0.4672672684754695 over 5 splits
subject 7, avg accuracy 0.41536273258509027 over 5 splits
subject 8, avg accuracy 0.47368421115373305 over 5 splits
subject 9, avg accuracy 0.3607396879330129 over 5 splits
subject 11, avg accuracy 0.4780780784808122 over 5 splits
subject 12, avg accuracy 0.35789473731266824 over 5 splits
subject 13, avg accuracy 0.38805121037563256 over 5 splits
subject 14, avg accuracy 0.4924426469323445 over 5 splits
subject 15, avg accuracy 0.4753753754559222 over 5 splits
subject 16, avg accuracy 0.33346828780113125 over 5 splits
subject 17, avg accuracy 0.5210526315789474 over 5 splits
subject 18, avg accuracy 0.3405405415071024 over 5 splits
subject 19, avg accuracy 0.3037537538343006 over 5 splits
avg accuracy over all subjects 0.4157990321250937
{'first_layer_nodes': 25, 'first_layer_dropout': 0.0637263782144164, 'first_layer_return_seq': False, 'second_layer': False, 'second_layer_type': <class 'keras.layers.recurrent.LSTM'>, 'second_layer_nodes': 67, 'second_layer_dropout': 0.7287672185278958, 'epochs': 12}
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_28 (LSTM)               (None, 25)                79400     
_________________________________________________________________
dropout_35 (Dropout)         (None, 25)                0         
_________________________________________________________________
dense_27 (Dense)             (None, 3)                 78        
=================================================================
Total params: 79,478
Trainable params: 79,478
Non-trainable params: 0
_________________________________________________________________
subject 1, avg accuracy 0.4432432448541796 over 5 splits
subject 2, avg accuracy 0.342105264421208 over 5 splits
subject 3, avg accuracy 0.38236131060174317 over 5 splits
subject 4, avg accuracy 0.30270270383035813 over 5 splits
subject 5, avg accuracy 0.36344239023722086 over 5 splits
subject 6, avg accuracy 0.44069069238217384 over 5 splits
subject 7, avg accuracy 0.43072546380512405 over 5 splits
subject 8, avg accuracy 0.3736842122517134 over 5 splits
subject 9, avg accuracy 0.38122332954983285 over 5 splits
subject 11, avg accuracy 0.37927927944037293 over 5 splits
subject 12, avg accuracy 0.34736842246432054 over 5 splits
subject 13, avg accuracy 0.36699857816502857 over 5 splits
subject 14, avg accuracy 0.42982456312890643 over 5 splits
subject 15, avg accuracy 0.34279279311498 over 5 splits
subject 16, avg accuracy 0.3641025644846452 over 5 splits
subject 17, avg accuracy 0.36842105372955924 over 5 splits
subject 18, avg accuracy 0.34054054134600875 over 5 splits
subject 19, avg accuracy 0.3590090093311963 over 5 splits
avg accuracy over all subjects 0.3754730787299206
end time
Tue Feb 20 17:50:58 CET 2018
slurmstepd: error: Exceeded step memory limit at some point.
